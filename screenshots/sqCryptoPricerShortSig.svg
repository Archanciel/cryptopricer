<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1396px" preserveAspectRatio="none" style="width:2049px;height:1396px;" version="1.1" viewBox="0 0 2049 1396" width="2049px" zoomAndPan="magnify"><defs><filter height="300%" id="f1soyxeuk1q7sr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="222" x="912.75" y="24.5332">CryptoPricer sequence diagram</text><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="836.4375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="248" y="453.5469"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="216.9336" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="452.5" y="483.8984"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="128.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="457.5" y="522.25"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462.5" y="565.6016"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="367.8672" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="855.5" y="744.3594"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="307.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1075.5" y="774.7109"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="231.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1080.5" y="813.0625"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="138.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1408.5" y="869.7656"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1413.5" y="929.4688"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="117.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1737.5" y="1142.5781"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1742.5" y="1180.9297"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="23" x2="23" y1="119.2188" y2="1307.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="253" x2="253" y1="119.2188" y2="1307.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="457.5" x2="457.5" y1="119.2188" y2="1307.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="860.5" x2="860.5" y1="119.2188" y2="1307.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1080.5" x2="1080.5" y1="119.2188" y2="1307.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1413.5" x2="1413.5" y1="119.2188" y2="1307.9844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1742" x2="1742" y1="119.2188" y2="1307.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="8.5" y="116.1426">GUI</text><ellipse cx="23" cy="44.6094" fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M23,52.6094 L23,79.6094 M10,60.6094 L36,60.6094 M23,79.6094 L10,94.6094 M23,79.6094 L36,94.6094 " fill="none" filter="url(#f1soyxeuk1q7sr)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="8.5" y="1321.5176">GUI</text><ellipse cx="23" cy="1334.5938" fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M23,1342.5938 L23,1369.5938 M10,1350.5938 L36,1350.5938 M23,1369.5938 L10,1384.5938 M23,1369.5938 L36,1384.5938 " fill="none" filter="url(#f1soyxeuk1q7sr)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="213" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="220" y="104.1426">Controller</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="213" y="1306.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="220" y="1328.5176">Controller</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="415.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="422.5" y="104.1426">Requester</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="415.5" y="1306.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="422.5" y="1328.5176">Requester</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="803.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="810.5" y="104.1426">CommandPrice</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="803.5" y="1306.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="810.5" y="1328.5176">CommandPrice</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="1039.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="1046.5" y="104.1426">Processor</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="1039.5" y="1306.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="1046.5" y="1328.5176">Processor</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1355.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1362.5" y="104.1426">PriceRequester</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1355.5" y="1306.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1362.5" y="1328.5176">PriceRequester</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="1670" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1677" y="104.1426">GuiOutputFormatter</text><rect fill="#FEFECE" filter="url(#f1soyxeuk1q7sr)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="1670" y="1306.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1677" y="1328.5176">GuiOutputFormatter</text><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="836.4375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="248" y="453.5469"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="216.9336" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="452.5" y="483.8984"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="128.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="457.5" y="522.25"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="462.5" y="565.6016"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="367.8672" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="855.5" y="744.3594"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="307.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1075.5" y="774.7109"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="231.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1080.5" y="813.0625"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="138.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1408.5" y="869.7656"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1413.5" y="929.4688"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="117.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1737.5" y="1142.5781"/><rect fill="#FFFFFF" filter="url(#f1soyxeuk1q7sr)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1742.5" y="1180.9297"/><path d="M158,134.2188 L158,209.2188 L343,209.2188 L343,144.2188 L333,134.2188 L158,134.2188 " fill="#FBFB77" filter="url(#f1soyxeuk1q7sr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M333,134.2188 L333,144.2188 L343,144.2188 L333,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="164" y="152.7139">Client in the GOF Command</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="164" y="169.0654">pattern. Entry point of the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="164" y="185.417">business layer. Instanciates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="164" y="201.7686">the business layer classes.</text><path d="M357,134.2188 L357,193.2188 L553,193.2188 L553,144.2188 L543,134.2188 L357,134.2188 " fill="#FBFB77" filter="url(#f1soyxeuk1q7sr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M543,134.2188 L543,144.2188 L553,144.2188 L543,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="363" y="152.7139">Parses the user requests,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="363" y="169.0654">storing the request parms into</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="363" y="185.417">the the appropriate Command.</text><path d="M753,134.2188 L753,356.2188 L964,356.2188 L964,144.2188 L954,134.2188 L753,134.2188 " fill="#FBFB77" filter="url(#f1soyxeuk1q7sr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M954,134.2188 L954,144.2188 L964,144.2188 L954,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="759" y="152.7139">Command in the GOF Command</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="759" y="169.0654">pattern. Stores all the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="759" y="185.417">request parms parsed by the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="759" y="201.7686">Requester. Stores aswell the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="759" y="218.1201">currently active request parms</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="759" y="234.4717">which will be used in case of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="759" y="250.8232">partial request. Validates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="759" y="267.1748">part of the request elements</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="759" y="283.5264">and computes the int request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="759" y="299.8779">date/time components. Calls</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="759" y="316.2295">the receiver, i.e. the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="759" y="332.5811">Processor, passing to it the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="759" y="348.9326">required request parms.</text><path d="M978,134.2188 L978,421.2188 L1179,421.2188 L1179,144.2188 L1169,134.2188 L978,134.2188 " fill="#FBFB77" filter="url(#f1soyxeuk1q7sr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1169,134.2188 L1169,144.2188 L1179,144.2188 L1169,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="984" y="152.7139">Receiver in the GOF Command</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="984" y="169.0654">pattern. Validates and obtains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="984" y="185.417">real exchange name for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="984" y="201.7686">crypto/unit and unit/fiat</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="984" y="218.1201">pairs. Determines if RT or</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="984" y="234.4717">historical price must be asked</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="984" y="250.8232">to the PriceRequester. After</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="984" y="267.1748">getting the price, computes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="984" y="283.5264">the fiat (-f) and value (-v)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="984" y="299.8779">option values and add them to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="984" y="316.2295">the returned ResultData. In</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="984" y="332.5811">case a crypto/unit or a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="984" y="348.9326">fiat/unit pair is not</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="984" y="365.2842">supported by the pair</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="984" y="381.6357">exchange, try to obtain a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="984" y="397.9873">unit/crypto, respectively a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="984" y="414.3389">unit/fiat pair price.</text><path d="M1315,134.2188 L1315,242.2188 L1507,242.2188 L1507,144.2188 L1497,134.2188 L1315,134.2188 " fill="#FBFB77" filter="url(#f1soyxeuk1q7sr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1497,134.2188 L1497,144.2188 L1507,144.2188 L1497,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="1321" y="152.7139">Obtains the RT or historical</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="1321" y="169.0654">rates from the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="1321" y="185.417">cryptocompare.com web site.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="1321" y="201.7686">For historical rates,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="1321" y="218.1201">determines if a minute or</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="1321" y="234.4717">close rate is to be obtained.</text><path d="M1649,134.2188 L1649,209.2188 L1832,209.2188 L1832,144.2188 L1822,134.2188 L1649,134.2188 " fill="#FBFB77" filter="url(#f1soyxeuk1q7sr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1822,134.2188 L1822,144.2188 L1832,144.2188 L1822,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="1655" y="152.7139">Formats the result data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1655" y="169.0654">printed to the output zone of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="1655" y="185.417">the application and to the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="1655" y="201.7686">status bar.</text><polygon fill="#A80036" points="236,449.5469,246,453.5469,236,457.5469,240,453.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="23" x2="242" y1="453.5469" y2="453.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="30" y="448.6904">getPrintableResultForInput(inputStr)</text><polygon fill="#A80036" points="440.5,479.8984,450.5,483.8984,440.5,487.8984,444.5,483.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="446.5" y1="483.8984" y2="483.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="265" y="479.042">getCommand(inputStr)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="462.5" x2="509.5" y1="509.25" y2="509.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="509.5" x2="509.5" y1="509.25" y2="522.25"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="509.5" y1="522.25" y2="522.25"/><polygon fill="#A80036" points="478.5,518.25,468.5,522.25,478.5,526.25,474.5,522.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="474.5" y="504.3936">_parseAndFillCommandPrice(inputStr)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="467.5" x2="514.5" y1="552.6016" y2="552.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="514.5" x2="514.5" y1="552.6016" y2="565.6016"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="473.5" x2="514.5" y1="565.6016" y2="565.6016"/><polygon fill="#A80036" points="483.5,561.6016,473.5,565.6016,483.5,569.6016,479.5,565.6016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="374" x="479.5" y="547.7451">_buildFullCommandPriceOrderFreeParmsDic(orderFreeParmList)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="472.5" x2="514.5" y1="605.9531" y2="605.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="514.5" x2="514.5" y1="605.9531" y2="618.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="467.5" x2="514.5" y1="618.9531" y2="618.9531"/><polygon fill="#A80036" points="477.5,614.9531,467.5,618.9531,477.5,622.9531,473.5,618.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="479.5" y="601.0967">return ...</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="467.5" x2="509.5" y1="649.3047" y2="649.3047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="509.5" x2="509.5" y1="649.3047" y2="662.3047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="462.5" x2="509.5" y1="662.3047" y2="662.3047"/><polygon fill="#A80036" points="472.5,658.3047,462.5,662.3047,472.5,666.3047,468.5,662.3047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="474.5" y="644.4482">return ...</text><polygon fill="#A80036" points="269,696.832,259,700.832,269,704.832,265,700.832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="263" x2="456.5" y1="700.832" y2="700.832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="275" y="695.9756">return AbstractCommand</text><path d="M467,670.3047 L467,712.3047 L666,712.3047 L666,680.3047 L656,670.3047 L467,670.3047 " fill="#FBFB77" filter="url(#f1soyxeuk1q7sr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M656,670.3047 L656,680.3047 L666,680.3047 L656,670.3047 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="473" y="688.7998">May return a CommandError in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="473" y="705.1514">case of parsing problem.</text><polygon fill="#A80036" points="843.5,740.3594,853.5,744.3594,843.5,748.3594,847.5,744.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="849.5" y1="744.3594" y2="744.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="265" y="739.5029">execute()</text><polygon fill="#A80036" points="1063.5,770.7109,1073.5,774.7109,1063.5,778.7109,1067.5,774.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="865.5" x2="1069.5" y1="774.7109" y2="774.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="872.5" y="769.8545">getCryptoPrice(crypto, unit, ...)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1085.5" x2="1132.5" y1="800.0625" y2="800.0625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1132.5" x2="1132.5" y1="800.0625" y2="813.0625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1091.5" x2="1132.5" y1="813.0625" y2="813.0625"/><polygon fill="#A80036" points="1101.5,809.0625,1091.5,813.0625,1101.5,817.0625,1097.5,813.0625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="1097.5" y="795.2061">_getPrice(currency, ...)</text><polygon fill="#A80036" points="1396.5,865.7656,1406.5,869.7656,1396.5,873.7656,1400.5,869.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1402.5" y1="869.7656" y2="869.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="1097.5" y="864.9092">getHistoricalPriceAtUTCTimeStamp(crypto, unit, ...)</text><path d="M1423,831.0625 L1423,890.0625 L1606,890.0625 L1606,841.0625 L1596,831.0625 L1423,831.0625 " fill="#FBFB77" filter="url(#f1soyxeuk1q7sr)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1596,831.0625 L1596,841.0625 L1606,841.0625 L1596,831.0625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="1429" y="849.5576">Obtainins a minute price if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="1429" y="865.9092">request date &lt; 7 days from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1429" y="882.2607">now, else a day close price.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1418.5" x2="1465.5" y1="916.4688" y2="916.4688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1465.5" x2="1465.5" y1="916.4688" y2="929.4688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1424.5" x2="1465.5" y1="929.4688" y2="929.4688"/><polygon fill="#A80036" points="1434.5,925.4688,1424.5,929.4688,1434.5,933.4688,1430.5,929.4688" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="305" x="1430.5" y="911.6123">_getHistoDayPriceAtUTCTimeStamp(crypto, unit, ...)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1423.5" x2="1465.5" y1="969.8203" y2="969.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1465.5" x2="1465.5" y1="969.8203" y2="982.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1418.5" x2="1465.5" y1="982.8203" y2="982.8203"/><polygon fill="#A80036" points="1428.5,978.8203,1418.5,982.8203,1428.5,986.8203,1424.5,982.8203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="1430.5" y="964.9639">return ResultData</text><polygon fill="#A80036" points="1101.5,1004.1719,1091.5,1008.1719,1101.5,1012.1719,1097.5,1008.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1095.5" x2="1412.5" y1="1008.1719" y2="1008.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="1107.5" y="1003.3154">return ResultData</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1090.5" x2="1132.5" y1="1043.5234" y2="1043.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1132.5" x2="1132.5" y1="1043.5234" y2="1056.5234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1085.5" x2="1132.5" y1="1056.5234" y2="1056.5234"/><polygon fill="#A80036" points="1095.5,1052.5234,1085.5,1056.5234,1095.5,1060.5234,1091.5,1056.5234" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="1097.5" y="1038.667">return ResultData</text><polygon fill="#A80036" points="876.5,1077.875,866.5,1081.875,876.5,1085.875,872.5,1081.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="870.5" x2="1079.5" y1="1081.875" y2="1081.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="882.5" y="1077.0186">return ResultData</text><polygon fill="#A80036" points="269,1108.2266,259,1112.2266,269,1116.2266,265,1112.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="263" x2="859.5" y1="1112.2266" y2="1112.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="275" y="1107.3701">return ResultData or False</text><polygon fill="#A80036" points="1725.5,1138.5781,1735.5,1142.5781,1725.5,1146.5781,1729.5,1142.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="1731.5" y1="1142.5781" y2="1142.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="265" y="1137.7217">getFullCommandString(resultData)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1747.5" x2="1794.5" y1="1167.9297" y2="1167.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1794.5" x2="1794.5" y1="1167.9297" y2="1180.9297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1753.5" x2="1794.5" y1="1180.9297" y2="1180.9297"/><polygon fill="#A80036" points="1763.5,1176.9297,1753.5,1180.9297,1763.5,1184.9297,1759.5,1180.9297" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="1759.5" y="1163.0732">_buildFullDateAndTimeStrings(commandDic, ...)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1752.5" x2="1794.5" y1="1221.2813" y2="1221.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1794.5" x2="1794.5" y1="1221.2813" y2="1234.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1747.5" x2="1794.5" y1="1234.2813" y2="1234.2813"/><polygon fill="#A80036" points="1757.5,1230.2813,1747.5,1234.2813,1757.5,1238.2813,1753.5,1234.2813" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="1759.5" y="1216.4248">return requestDateDMY, ...</text><polygon fill="#A80036" points="269,1255.6328,259,1259.6328,269,1263.6328,265,1259.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="263" x2="1741.5" y1="1259.6328" y2="1259.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="275" y="1254.7764">return printResult, ...</text><polygon fill="#A80036" points="34,1285.9844,24,1289.9844,34,1293.9844,30,1289.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="28" x2="252" y1="1289.9844" y2="1289.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="40" y="1285.1279">return printResult, ...</text><!--
@startuml

title CryptoPricer sequence diagram
actor GUI
participant Controller
	/note over of Controller
		Client in the GOF Command
		pattern. Entry point of the
		business layer. Instanciates
		the business layer classes.
	end note
participant Requester
	/note over of Requester
		Parses the user requests,
		storing the request parms into
		the the appropriate Command.
	end note
participant CommandPrice
	/note over of CommandPrice
		Command in the GOF Command
		pattern. Stores all the
		request parms parsed by the
		Requester. Stores aswell the
		currently active request parms
		which will be used in case of
		partial request. Validates
		part of the request elements
		and computes the int request
		date/time components. Calls
		the receiver, i.e. the
		Processor, passing to it the
		required request parms.
	end note
participant Processor
	/note over of Processor
		Receiver in the GOF Command
		pattern. Validates and obtains
		real exchange name for
		crypto/unit and unit/fiat
		pairs. Determines if RT or
		historical price must be asked
		to the PriceRequester. After
		getting the price, computes
		the fiat (-f) and value (-v)
		option values and add them to
		the returned ResultData. In
		case a crypto/unit or a
		fiat/unit pair is not
		supported by the pair
		exchange, try to obtain a
		unit/crypto, respectively a
		unit/fiat pair price.
	end note
participant PriceRequester
	/note over of PriceRequester
		Obtains the RT or historical
		rates from the
		cryptocompare.com web site.
		For historical rates,
		determines if a minute or
		close rate is to be obtained.
	end note
participant GuiOutputFormatter
	/note over of GuiOutputFormatter
		Formats the result data
		printed to the output zone of
		the application and to the
		status bar.
	end note
GUI -> Controller: getPrintableResultForInput(inputStr)
	activate Controller
	Controller -> Requester: getCommand(inputStr)
		activate Requester
		Requester -> Requester: _parseAndFillCommandPrice(inputStr)
			activate Requester
			Requester -> Requester: _buildFullCommandPriceOrderFreeParmsDic(orderFreeParmList)
				activate Requester
				Requester <- - Requester: return ...
				deactivate Requester
			Requester <- - Requester: return ...
			deactivate Requester
		Controller <- - Requester: return AbstractCommand
		deactivate Requester
		note right
			May return a CommandError in
			case of parsing problem.
		end note
	Controller -> CommandPrice: execute()
		activate CommandPrice
		CommandPrice -> Processor: getCryptoPrice(crypto, unit, ...)
			activate Processor
			Processor -> Processor: _getPrice(currency, ...)
				activate Processor
				Processor -> PriceRequester: getHistoricalPriceAtUTCTimeStamp(crypto, unit, ...)
					activate PriceRequester
					note right
						Obtainins a minute price if
						request date < 7 days from
						now, else a day close price.
					end note
					PriceRequester -> PriceRequester: _getHistoDayPriceAtUTCTimeStamp(crypto, unit, ...)
						activate PriceRequester
						PriceRequester <- - PriceRequester: return ResultData
						deactivate PriceRequester
					Processor <- - PriceRequester: return ResultData
					deactivate PriceRequester
				Processor <- - Processor: return ResultData
				deactivate Processor
			CommandPrice <- - Processor: return ResultData
			deactivate Processor
		Controller <- - CommandPrice: return ResultData or False
		deactivate CommandPrice
	Controller -> GuiOutputFormatter: getFullCommandString(resultData)
		activate GuiOutputFormatter
		GuiOutputFormatter -> GuiOutputFormatter: _buildFullDateAndTimeStrings(commandDic, ...)
			activate GuiOutputFormatter
			GuiOutputFormatter <- - GuiOutputFormatter: return requestDateDMY, ...
			deactivate GuiOutputFormatter
		Controller <- - GuiOutputFormatter: return printResult, ...
		deactivate GuiOutputFormatter
	GUI <- - Controller: return printResult, ...
	deactivate Controller
@enduml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_281-b09
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: fr
Country: CH
--></g></svg>