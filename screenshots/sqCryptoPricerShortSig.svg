<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1363px" preserveAspectRatio="none" style="width:2039px;height:1363px;" version="1.1" viewBox="0 0 2039 1363" width="2039px" zoomAndPan="magnify"><defs><filter height="300%" id="f1aoat94xcupae" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="222" x="907.75" y="24.5332">CryptoPricer sequence diagram</text><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="836.4375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="248" y="420.8438"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="216.9336" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="442.5" y="451.1953"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="128.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="447.5" y="489.5469"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="452.5" y="532.8984"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="367.8672" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="845.5" y="711.6563"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="307.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1065.5" y="742.0078"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="231.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1070.5" y="780.3594"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="138.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1398.5" y="837.0625"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1403.5" y="896.7656"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="117.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1727.5" y="1109.875"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1732.5" y="1148.2266"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="23" x2="23" y1="119.2188" y2="1275.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="253" x2="253" y1="119.2188" y2="1275.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="447.5" x2="447.5" y1="119.2188" y2="1275.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="850.5" x2="850.5" y1="119.2188" y2="1275.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1070.5" x2="1070.5" y1="119.2188" y2="1275.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1403.5" x2="1403.5" y1="119.2188" y2="1275.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1732" x2="1732" y1="119.2188" y2="1275.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="8.5" y="116.1426">GUI</text><ellipse cx="23" cy="44.6094" fill="#FEFECE" filter="url(#f1aoat94xcupae)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M23,52.6094 L23,79.6094 M10,60.6094 L36,60.6094 M23,79.6094 L10,94.6094 M23,79.6094 L36,94.6094 " fill="none" filter="url(#f1aoat94xcupae)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="8.5" y="1288.8145">GUI</text><ellipse cx="23" cy="1301.8906" fill="#FEFECE" filter="url(#f1aoat94xcupae)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M23,1309.8906 L23,1336.8906 M10,1317.8906 L36,1317.8906 M23,1336.8906 L10,1351.8906 M23,1336.8906 L36,1351.8906 " fill="none" filter="url(#f1aoat94xcupae)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="213" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="220" y="104.1426">Controller</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="213" y="1274.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="220" y="1295.8145">Controller</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="405.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="412.5" y="104.1426">Requester</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="405.5" y="1274.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="412.5" y="1295.8145">Requester</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="793.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="800.5" y="104.1426">CommandPrice</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="793.5" y="1274.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="800.5" y="1295.8145">CommandPrice</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="1029.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="1036.5" y="104.1426">Processor</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="1029.5" y="1274.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="1036.5" y="1295.8145">Processor</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1345.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1352.5" y="104.1426">PriceRequester</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1345.5" y="1274.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1352.5" y="1295.8145">PriceRequester</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="1660" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1667" y="104.1426">GuiOutputFormatter</text><rect fill="#FEFECE" filter="url(#f1aoat94xcupae)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="1660" y="1274.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1667" y="1295.8145">GuiOutputFormatter</text><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="836.4375" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="248" y="420.8438"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="216.9336" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="442.5" y="451.1953"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="128.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="447.5" y="489.5469"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="452.5" y="532.8984"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="367.8672" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="845.5" y="711.6563"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="307.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1065.5" y="742.0078"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="231.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1070.5" y="780.3594"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="138.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1398.5" y="837.0625"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1403.5" y="896.7656"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="117.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1727.5" y="1109.875"/><rect fill="#FFFFFF" filter="url(#f1aoat94xcupae)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1732.5" y="1148.2266"/><path d="M163,134.2188 L163,176.2188 L339,176.2188 L339,144.2188 L329,134.2188 L163,134.2188 " fill="#FBFB77" filter="url(#f1aoat94xcupae)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M329,134.2188 L329,144.2188 L339,144.2188 L329,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="169" y="152.7139">Entry point of the business</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="169" y="169.0654">layer.</text><path d="M353,134.2188 L353,160.2188 L538,160.2188 L538,144.2188 L528,134.2188 L353,134.2188 " fill="#FBFB77" filter="url(#f1aoat94xcupae)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M528,134.2188 L528,144.2188 L538,144.2188 L528,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="359" y="152.7139">Parses the user commands.</text><path d="M743,134.2188 L743,291.2188 L954,291.2188 L954,144.2188 L944,134.2188 L743,134.2188 " fill="#FBFB77" filter="url(#f1aoat94xcupae)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M944,134.2188 L944,144.2188 L954,144.2188 L944,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="749" y="152.7139">Command in the GOF Command</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="749" y="169.0654">pattern. Validates part of the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="749" y="185.417">request elements and computes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="749" y="201.7686">the int request date/time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="749" y="218.1201">components. Extract the option</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="749" y="234.4717">parms values from the parsed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="749" y="250.8232">parm data in order to pass</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="749" y="267.1748">them to the receiver, i.e. the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="749" y="283.5264">Processor.</text><path d="M968,134.2188 L968,389.2188 L1169,389.2188 L1169,144.2188 L1159,134.2188 L968,134.2188 " fill="#FBFB77" filter="url(#f1aoat94xcupae)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1159,134.2188 L1159,144.2188 L1169,144.2188 L1159,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="974" y="152.7139">Receiver in the GOF Command</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="974" y="169.0654">pattern. Validates and obtains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="974" y="185.417">real exchange symbol for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="974" y="201.7686">crypto and fiat. Determines if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="974" y="218.1201">RT or historical price must be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="974" y="234.4717">asked to the PriceRequester.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="974" y="250.8232">After getting the price,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="974" y="267.1748">computes the fiat (-f) and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="974" y="283.5264">value (-v) option values and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="974" y="299.8779">add them to the returned</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="974" y="316.2295">ResultData. Concerning the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="974" y="332.5811">fiat option, if the fiat/unit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="974" y="348.9326">pair is not supported by the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="974" y="365.2842">fiat exchange, try to obtain a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="974" y="381.6357">unit/fiat pair price.</text><path d="M1301,134.2188 L1301,209.2188 L1502,209.2188 L1502,144.2188 L1492,134.2188 L1301,134.2188 " fill="#FBFB77" filter="url(#f1aoat94xcupae)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1492,134.2188 L1492,144.2188 L1502,144.2188 L1492,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="1307" y="152.7139">Obtains the RT or historical -</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="1307" y="169.0654">determines if minute or close</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="1307" y="185.417">- rates from the Cryptocompare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="1307" y="201.7686">web site.</text><path d="M1639,134.2188 L1639,209.2188 L1822,209.2188 L1822,144.2188 L1812,134.2188 L1639,134.2188 " fill="#FBFB77" filter="url(#f1aoat94xcupae)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1812,134.2188 L1812,144.2188 L1822,144.2188 L1812,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="1645" y="152.7139">Formats the result data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1645" y="169.0654">printed to the output zone of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="1645" y="185.417">the application aswell as to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="1645" y="201.7686">the status bar.</text><polygon fill="#A80036" points="236,416.8438,246,420.8438,236,424.8438,240,420.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="23" x2="242" y1="420.8438" y2="420.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="30" y="415.9873">getPrintableResultForInput(inputStr)</text><polygon fill="#A80036" points="430.5,447.1953,440.5,451.1953,430.5,455.1953,434.5,451.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="436.5" y1="451.1953" y2="451.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="265" y="446.3389">getCommand(inputStr)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="452.5" x2="499.5" y1="476.5469" y2="476.5469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="499.5" x2="499.5" y1="476.5469" y2="489.5469"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="458.5" x2="499.5" y1="489.5469" y2="489.5469"/><polygon fill="#A80036" points="468.5,485.5469,458.5,489.5469,468.5,493.5469,464.5,489.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="464.5" y="471.6904">_parseAndFillCommandPrice(inputStr)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="457.5" x2="504.5" y1="519.8984" y2="519.8984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="504.5" x2="504.5" y1="519.8984" y2="532.8984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="463.5" x2="504.5" y1="532.8984" y2="532.8984"/><polygon fill="#A80036" points="473.5,528.8984,463.5,532.8984,473.5,536.8984,469.5,532.8984" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="374" x="469.5" y="515.042">_buildFullCommandPriceOrderFreeParmsDic(orderFreeParmList)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="462.5" x2="504.5" y1="573.25" y2="573.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="504.5" x2="504.5" y1="573.25" y2="586.25"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="457.5" x2="504.5" y1="586.25" y2="586.25"/><polygon fill="#A80036" points="467.5,582.25,457.5,586.25,467.5,590.25,463.5,586.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="469.5" y="568.3936">return ...</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="457.5" x2="499.5" y1="616.6016" y2="616.6016"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="499.5" x2="499.5" y1="616.6016" y2="629.6016"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="452.5" x2="499.5" y1="629.6016" y2="629.6016"/><polygon fill="#A80036" points="462.5,625.6016,452.5,629.6016,462.5,633.6016,458.5,629.6016" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="464.5" y="611.7451">return ...</text><polygon fill="#A80036" points="269,664.1289,259,668.1289,269,672.1289,265,668.1289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="263" x2="446.5" y1="668.1289" y2="668.1289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="275" y="663.2725">return AbstractCommand</text><path d="M457,637.6016 L457,679.6016 L656,679.6016 L656,647.6016 L646,637.6016 L457,637.6016 " fill="#FBFB77" filter="url(#f1aoat94xcupae)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M646,637.6016 L646,647.6016 L656,647.6016 L646,637.6016 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="463" y="656.0967">May return a CommandError in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="463" y="672.4482">case of parsing problem.</text><polygon fill="#A80036" points="833.5,707.6563,843.5,711.6563,833.5,715.6563,837.5,711.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="839.5" y1="711.6563" y2="711.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="265" y="706.7998">execute()</text><polygon fill="#A80036" points="1053.5,738.0078,1063.5,742.0078,1053.5,746.0078,1057.5,742.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="855.5" x2="1059.5" y1="742.0078" y2="742.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="862.5" y="737.1514">getCryptoPrice(crypto, unit, ...)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1075.5" x2="1122.5" y1="767.3594" y2="767.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1122.5" x2="1122.5" y1="767.3594" y2="780.3594"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1081.5" x2="1122.5" y1="780.3594" y2="780.3594"/><polygon fill="#A80036" points="1091.5,776.3594,1081.5,780.3594,1091.5,784.3594,1087.5,780.3594" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="1087.5" y="762.5029">_getPrice(currency, ...)</text><polygon fill="#A80036" points="1386.5,833.0625,1396.5,837.0625,1386.5,841.0625,1390.5,837.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1080.5" x2="1392.5" y1="837.0625" y2="837.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="1087.5" y="832.2061">getHistoricalPriceAtUTCTimeStamp(crypto, unit, ...)</text><path d="M1413,798.3594 L1413,857.3594 L1596,857.3594 L1596,808.3594 L1586,798.3594 L1413,798.3594 " fill="#FBFB77" filter="url(#f1aoat94xcupae)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1586,798.3594 L1586,808.3594 L1596,808.3594 L1586,798.3594 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="1419" y="816.8545">Obtainins a minute price if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="1419" y="833.2061">request date &lt; 7 days from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1419" y="849.5576">now, else a day close price.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1408.5" x2="1455.5" y1="883.7656" y2="883.7656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1455.5" x2="1455.5" y1="883.7656" y2="896.7656"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1414.5" x2="1455.5" y1="896.7656" y2="896.7656"/><polygon fill="#A80036" points="1424.5,892.7656,1414.5,896.7656,1424.5,900.7656,1420.5,896.7656" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="305" x="1420.5" y="878.9092">_getHistoDayPriceAtUTCTimeStamp(crypto, unit, ...)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1413.5" x2="1455.5" y1="937.1172" y2="937.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1455.5" x2="1455.5" y1="937.1172" y2="950.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1408.5" x2="1455.5" y1="950.1172" y2="950.1172"/><polygon fill="#A80036" points="1418.5,946.1172,1408.5,950.1172,1418.5,954.1172,1414.5,950.1172" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="1420.5" y="932.2607">return ResultData</text><polygon fill="#A80036" points="1091.5,971.4688,1081.5,975.4688,1091.5,979.4688,1087.5,975.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1085.5" x2="1402.5" y1="975.4688" y2="975.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="1097.5" y="970.6123">return ResultData</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1080.5" x2="1122.5" y1="1010.8203" y2="1010.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1122.5" x2="1122.5" y1="1010.8203" y2="1023.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1075.5" x2="1122.5" y1="1023.8203" y2="1023.8203"/><polygon fill="#A80036" points="1085.5,1019.8203,1075.5,1023.8203,1085.5,1027.8203,1081.5,1023.8203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="1087.5" y="1005.9639">return ResultData</text><polygon fill="#A80036" points="866.5,1045.1719,856.5,1049.1719,866.5,1053.1719,862.5,1049.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="860.5" x2="1069.5" y1="1049.1719" y2="1049.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="872.5" y="1044.3154">return ResultData</text><polygon fill="#A80036" points="269,1075.5234,259,1079.5234,269,1083.5234,265,1079.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="263" x2="849.5" y1="1079.5234" y2="1079.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="275" y="1074.667">return ResultData or False</text><polygon fill="#A80036" points="1715.5,1105.875,1725.5,1109.875,1715.5,1113.875,1719.5,1109.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="1721.5" y1="1109.875" y2="1109.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="265" y="1105.0186">getFullCommandString(resultData)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1737.5" x2="1784.5" y1="1135.2266" y2="1135.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1784.5" x2="1784.5" y1="1135.2266" y2="1148.2266"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1743.5" x2="1784.5" y1="1148.2266" y2="1148.2266"/><polygon fill="#A80036" points="1753.5,1144.2266,1743.5,1148.2266,1753.5,1152.2266,1749.5,1148.2266" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="1749.5" y="1130.3701">_buildFullDateAndTimeStrings(commandDic, ...)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1742.5" x2="1784.5" y1="1188.5781" y2="1188.5781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1784.5" x2="1784.5" y1="1188.5781" y2="1201.5781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1737.5" x2="1784.5" y1="1201.5781" y2="1201.5781"/><polygon fill="#A80036" points="1747.5,1197.5781,1737.5,1201.5781,1747.5,1205.5781,1743.5,1201.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="1749.5" y="1183.7217">return requestDateDMY, ...</text><polygon fill="#A80036" points="269,1222.9297,259,1226.9297,269,1230.9297,265,1226.9297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="263" x2="1731.5" y1="1226.9297" y2="1226.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="275" y="1222.0732">return printResult, ...</text><polygon fill="#A80036" points="34,1253.2813,24,1257.2813,34,1261.2813,30,1257.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="28" x2="252" y1="1257.2813" y2="1257.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="40" y="1252.4248">return printResult, ...</text><!--
@startuml

title CryptoPricer sequence diagram
actor GUI
participant Controller
	/note over of Controller
		Entry point of the business
		layer.
	end note
participant Requester
	/note over of Requester
		Parses the user commands.
	end note
participant CommandPrice
	/note over of CommandPrice
		Command in the GOF Command
		pattern. Validates part of the
		request elements and computes
		the int request date/time
		components. Extract the option
		parms values from the parsed
		parm data in order to pass
		them to the receiver, i.e. the
		Processor.
	end note
participant Processor
	/note over of Processor
		Receiver in the GOF Command
		pattern. Validates and obtains
		real exchange symbol for
		crypto and fiat. Determines if
		RT or historical price must be
		asked to the PriceRequester.
		After getting the price,
		computes the fiat (-f) and
		value (-v) option values and
		add them to the returned
		ResultData. Concerning the
		fiat option, if the fiat/unit
		pair is not supported by the
		fiat exchange, try to obtain a
		unit/fiat pair price.
	end note
participant PriceRequester
	/note over of PriceRequester
		Obtains the RT or historical -
		determines if minute or close
		- rates from the Cryptocompare
		web site.
	end note
participant GuiOutputFormatter
	/note over of GuiOutputFormatter
		Formats the result data
		printed to the output zone of
		the application aswell as to
		the status bar.
	end note
GUI -> Controller: getPrintableResultForInput(inputStr)
	activate Controller
	Controller -> Requester: getCommand(inputStr)
		activate Requester
		Requester -> Requester: _parseAndFillCommandPrice(inputStr)
			activate Requester
			Requester -> Requester: _buildFullCommandPriceOrderFreeParmsDic(orderFreeParmList)
				activate Requester
				Requester <- - Requester: return ...
				deactivate Requester
			Requester <- - Requester: return ...
			deactivate Requester
		Controller <- - Requester: return AbstractCommand
		deactivate Requester
		note right
			May return a CommandError in
			case of parsing problem.
		end note
	Controller -> CommandPrice: execute()
		activate CommandPrice
		CommandPrice -> Processor: getCryptoPrice(crypto, unit, ...)
			activate Processor
			Processor -> Processor: _getPrice(currency, ...)
				activate Processor
				Processor -> PriceRequester: getHistoricalPriceAtUTCTimeStamp(crypto, unit, ...)
					activate PriceRequester
					note right
						Obtainins a minute price if
						request date < 7 days from
						now, else a day close price.
					end note
					PriceRequester -> PriceRequester: _getHistoDayPriceAtUTCTimeStamp(crypto, unit, ...)
						activate PriceRequester
						PriceRequester <- - PriceRequester: return ResultData
						deactivate PriceRequester
					Processor <- - PriceRequester: return ResultData
					deactivate PriceRequester
				Processor <- - Processor: return ResultData
				deactivate Processor
			CommandPrice <- - Processor: return ResultData
			deactivate Processor
		Controller <- - CommandPrice: return ResultData or False
		deactivate CommandPrice
	Controller -> GuiOutputFormatter: getFullCommandString(resultData)
		activate GuiOutputFormatter
		GuiOutputFormatter -> GuiOutputFormatter: _buildFullDateAndTimeStrings(commandDic, ...)
			activate GuiOutputFormatter
			GuiOutputFormatter <- - GuiOutputFormatter: return requestDateDMY, ...
			deactivate GuiOutputFormatter
		Controller <- - GuiOutputFormatter: return printResult, ...
		deactivate GuiOutputFormatter
	GUI <- - Controller: return printResult, ...
	deactivate Controller
@enduml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_281-b09
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: fr
Country: CH
--></g></svg>