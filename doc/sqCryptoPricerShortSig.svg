<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1080px" preserveAspectRatio="none" style="width:1988px;height:1080px;" version="1.1" viewBox="0 0 1988 1080" width="1988px" zoomAndPan="magnify"><defs><filter height="300%" id="f1uqkxj0tu21ct" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="222" x="882.25" y="24.5332">CryptoPricer sequence diagram</text><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="749.7344" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="248" y="224.625"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="216.9336" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="440.5" y="254.9766"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="128.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="445.5" y="293.3281"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="450.5" y="336.6797"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="281.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="823.5" y="515.4375"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="220.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1027.5" y="545.7891"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="138.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1351.5" y="597.4922"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1356.5" y="657.1953"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="117.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1676.5" y="826.9531"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1681.5" y="865.3047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="23" x2="23" y1="119.2188" y2="992.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="253" x2="253" y1="119.2188" y2="992.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="445.5" x2="445.5" y1="119.2188" y2="992.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="828.5" x2="828.5" y1="119.2188" y2="992.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1032.5" x2="1032.5" y1="119.2188" y2="992.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1356.5" x2="1356.5" y1="119.2188" y2="992.3594"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1681" x2="1681" y1="119.2188" y2="992.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="8.5" y="116.1426">GUI</text><ellipse cx="23" cy="44.6094" fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M23,52.6094 L23,79.6094 M10,60.6094 L36,60.6094 M23,79.6094 L10,94.6094 M23,79.6094 L36,94.6094 " fill="none" filter="url(#f1uqkxj0tu21ct)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="23" x="8.5" y="1005.8926">GUI</text><ellipse cx="23" cy="1018.9688" fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M23,1026.9688 L23,1053.9688 M10,1034.9688 L36,1034.9688 M23,1053.9688 L10,1068.9688 M23,1053.9688 L36,1068.9688 " fill="none" filter="url(#f1uqkxj0tu21ct)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="213" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="220" y="104.1426">Controller</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="76" x="213" y="991.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="220" y="1012.8926">Controller</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="403.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="410.5" y="104.1426">Requester</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="80" x="403.5" y="991.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="410.5" y="1012.8926">Requester</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="771.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="778.5" y="104.1426">CommandPrice</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="771.5" y="991.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="778.5" y="1012.8926">CommandPrice</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="991.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="998.5" y="104.1426">Processor</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="991.5" y="991.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="998.5" y="1012.8926">Processor</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1298.5" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1305.5" y="104.1426">PriceRequester</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="1298.5" y="991.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="1305.5" y="1012.8926">PriceRequester</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="1611" y="82.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1618" y="104.1426">GuiOutputFormater</text><rect fill="#FEFECE" filter="url(#f1uqkxj0tu21ct)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="1611" y="991.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="1618" y="1012.8926">GuiOutputFormater</text><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="749.7344" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="248" y="224.625"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="216.9336" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="440.5" y="254.9766"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="128.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="445.5" y="293.3281"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="450.5" y="336.6797"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="281.1641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="823.5" y="515.4375"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="220.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1027.5" y="545.7891"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="138.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1351.5" y="597.4922"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1356.5" y="657.1953"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="117.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1676.5" y="826.9531"/><rect fill="#FFFFFF" filter="url(#f1uqkxj0tu21ct)" height="41.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1681.5" y="865.3047"/><path d="M163,134.2188 L163,176.2188 L339,176.2188 L339,144.2188 L329,134.2188 L163,134.2188 " fill="#FBFB77" filter="url(#f1uqkxj0tu21ct)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M329,134.2188 L329,144.2188 L339,144.2188 L329,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="169" y="152.7139">Entry point of the business</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="169" y="169.0654">layer</text><path d="M353,134.2188 L353,160.2188 L534,160.2188 L534,144.2188 L524,134.2188 L353,134.2188 " fill="#FBFB77" filter="url(#f1uqkxj0tu21ct)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M524,134.2188 L524,144.2188 L534,144.2188 L524,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="359" y="152.7139">Parses the user commands</text><path d="M1258,134.2188 L1258,193.2188 L1451,193.2188 L1451,144.2188 L1441,134.2188 L1258,134.2188 " fill="#FBFB77" filter="url(#f1uqkxj0tu21ct)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1441,134.2188 L1441,144.2188 L1451,144.2188 L1441,134.2188 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="1264" y="152.7139">Obtains the RT or historical</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="1264" y="169.0654">rates from the Cryptocompare</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="1264" y="185.417">web site</text><polygon fill="#A80036" points="236,220.625,246,224.625,236,228.625,240,224.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="23" x2="242" y1="224.625" y2="224.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="30" y="219.7686">getPrintableResultForInput(inputStr)</text><polygon fill="#A80036" points="428.5,250.9766,438.5,254.9766,428.5,258.9766,432.5,254.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="434.5" y1="254.9766" y2="254.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="265" y="250.1201">getCommand(inputStr)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="450.5" x2="497.5" y1="280.3281" y2="280.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="497.5" x2="497.5" y1="280.3281" y2="293.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="456.5" x2="497.5" y1="293.3281" y2="293.3281"/><polygon fill="#A80036" points="466.5,289.3281,456.5,293.3281,466.5,297.3281,462.5,293.3281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="462.5" y="275.4717">_parseAndFillCommandPrice(inputStr)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="455.5" x2="502.5" y1="323.6797" y2="323.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="502.5" x2="502.5" y1="323.6797" y2="336.6797"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="461.5" x2="502.5" y1="336.6797" y2="336.6797"/><polygon fill="#A80036" points="471.5,332.6797,461.5,336.6797,471.5,340.6797,467.5,336.6797" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="354" x="467.5" y="318.8232">_buildFullCommandPriceOptionalParmsDic(optionalParmList)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="460.5" x2="502.5" y1="377.0313" y2="377.0313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="502.5" x2="502.5" y1="377.0313" y2="390.0313"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="455.5" x2="502.5" y1="390.0313" y2="390.0313"/><polygon fill="#A80036" points="465.5,386.0313,455.5,390.0313,465.5,394.0313,461.5,390.0313" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="467.5" y="372.1748">return ...</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="455.5" x2="497.5" y1="420.3828" y2="420.3828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="497.5" x2="497.5" y1="420.3828" y2="433.3828"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="450.5" x2="497.5" y1="433.3828" y2="433.3828"/><polygon fill="#A80036" points="460.5,429.3828,450.5,433.3828,460.5,437.3828,456.5,433.3828" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="462.5" y="415.5264">return ...</text><polygon fill="#A80036" points="269,467.9102,259,471.9102,269,475.9102,265,471.9102" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="263" x2="444.5" y1="471.9102" y2="471.9102"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="275" y="467.0537">return AbstractCommand</text><path d="M455,441.3828 L455,483.3828 L654,483.3828 L654,451.3828 L644,441.3828 L455,441.3828 " fill="#FBFB77" filter="url(#f1uqkxj0tu21ct)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M644,441.3828 L644,451.3828 L654,451.3828 L644,441.3828 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="461" y="459.8779">May return a CommandError in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="461" y="476.2295">case of parsing problem.</text><polygon fill="#A80036" points="811.5,511.4375,821.5,515.4375,811.5,519.4375,815.5,515.4375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="817.5" y1="515.4375" y2="515.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="265" y="510.5811">execute()</text><polygon fill="#A80036" points="1015.5,541.7891,1025.5,545.7891,1015.5,549.7891,1019.5,545.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="833.5" x2="1021.5" y1="545.7891" y2="545.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="840.5" y="540.9326">getCryptoPrice(crypto, fiat, ...)</text><polygon fill="#A80036" points="1339.5,593.4922,1349.5,597.4922,1339.5,601.4922,1343.5,597.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1037.5" x2="1345.5" y1="597.4922" y2="597.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="295" x="1044.5" y="592.6357">getHistoricalPriceAtUTCTimeStamp(crypto, fiat, ...)</text><path d="M1366,558.7891 L1366,617.7891 L1549,617.7891 L1549,568.7891 L1539,558.7891 L1366,558.7891 " fill="#FBFB77" filter="url(#f1uqkxj0tu21ct)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1539,558.7891 L1539,568.7891 L1549,568.7891 L1539,558.7891 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="1372" y="577.2842">Obtainins a minute price if</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="1372" y="593.6357">request date &lt; 7 days from</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1372" y="609.9873">now, else a day close price.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1361.5" x2="1408.5" y1="644.1953" y2="644.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1408.5" x2="1408.5" y1="644.1953" y2="657.1953"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1367.5" x2="1408.5" y1="657.1953" y2="657.1953"/><polygon fill="#A80036" points="1377.5,653.1953,1367.5,657.1953,1377.5,661.1953,1373.5,657.1953" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="301" x="1373.5" y="639.3389">_getHistoDayPriceAtUTCTimeStamp(crypto, fiat, ...)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1366.5" x2="1408.5" y1="697.5469" y2="697.5469"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1408.5" x2="1408.5" y1="697.5469" y2="710.5469"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1361.5" x2="1408.5" y1="710.5469" y2="710.5469"/><polygon fill="#A80036" points="1371.5,706.5469,1361.5,710.5469,1371.5,714.5469,1367.5,710.5469" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="1373.5" y="692.6904">return ResultData</text><polygon fill="#A80036" points="1048.5,731.8984,1038.5,735.8984,1048.5,739.8984,1044.5,735.8984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1042.5" x2="1355.5" y1="735.8984" y2="735.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="1054.5" y="731.042">return ResultData</text><polygon fill="#A80036" points="844.5,762.25,834.5,766.25,844.5,770.25,840.5,766.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="838.5" x2="1031.5" y1="766.25" y2="766.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="850.5" y="761.3936">return ResultData</text><polygon fill="#A80036" points="269,792.6016,259,796.6016,269,800.6016,265,796.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="263" x2="827.5" y1="796.6016" y2="796.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="275" y="791.7451">return ResultData or False</text><polygon fill="#A80036" points="1664.5,822.9531,1674.5,826.9531,1664.5,830.9531,1668.5,826.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="1670.5" y1="826.9531" y2="826.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="265" y="822.0967">getFullCommandString(resultData)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1686.5" x2="1733.5" y1="852.3047" y2="852.3047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1733.5" x2="1733.5" y1="852.3047" y2="865.3047"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1692.5" x2="1733.5" y1="865.3047" y2="865.3047"/><polygon fill="#A80036" points="1702.5,861.3047,1692.5,865.3047,1702.5,869.3047,1698.5,865.3047" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="1698.5" y="847.4482">_buildFullDateAndTimeStrings(commandDic, ...)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1691.5" x2="1733.5" y1="905.6563" y2="905.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1733.5" x2="1733.5" y1="905.6563" y2="918.6563"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1686.5" x2="1733.5" y1="918.6563" y2="918.6563"/><polygon fill="#A80036" points="1696.5,914.6563,1686.5,918.6563,1696.5,922.6563,1692.5,918.6563" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="1698.5" y="900.7998">return requestDateDMY, ...</text><polygon fill="#A80036" points="269,940.0078,259,944.0078,269,948.0078,265,944.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="263" x2="1680.5" y1="944.0078" y2="944.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="275" y="939.1514">return printResult, ...</text><polygon fill="#A80036" points="34,970.3594,24,974.3594,34,978.3594,30,974.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="28" x2="252" y1="974.3594" y2="974.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="40" y="969.5029">return printResult, ...</text><!--
@startuml

title CryptoPricer sequence diagram
actor GUI
participant Controller
	/note over of Controller
		Entry point of the business
		layer
	end note
participant Requester
	/note over of Requester
		Parses the user commands
	end note
participant CommandPrice
participant Processor
participant PriceRequester
	/note over of PriceRequester
		Obtains the RT or historical
		rates from the Cryptocompare
		web site
	end note
participant GuiOutputFormater
GUI -> Controller: getPrintableResultForInput(inputStr)
	activate Controller
	Controller -> Requester: getCommand(inputStr)
		activate Requester
		Requester -> Requester: _parseAndFillCommandPrice(inputStr)
			activate Requester
			Requester -> Requester: _buildFullCommandPriceOptionalParmsDic(optionalParmList)
				activate Requester
				Requester <- - Requester: return ...
				deactivate Requester
			Requester <- - Requester: return ...
			deactivate Requester
		Controller <- - Requester: return AbstractCommand
		deactivate Requester
		note right
			May return a CommandError in
			case of parsing problem.
		end note
	Controller -> CommandPrice: execute()
		activate CommandPrice
		CommandPrice -> Processor: getCryptoPrice(crypto, fiat, ...)
			activate Processor
			Processor -> PriceRequester: getHistoricalPriceAtUTCTimeStamp(crypto, fiat, ...)
				activate PriceRequester
				note right
					Obtainins a minute price if
					request date < 7 days from
					now, else a day close price.
				end note
				PriceRequester -> PriceRequester: _getHistoDayPriceAtUTCTimeStamp(crypto, fiat, ...)
					activate PriceRequester
					PriceRequester <- - PriceRequester: return ResultData
					deactivate PriceRequester
				Processor <- - PriceRequester: return ResultData
				deactivate PriceRequester
			CommandPrice <- - Processor: return ResultData
			deactivate Processor
		Controller <- - CommandPrice: return ResultData or False
		deactivate CommandPrice
	Controller -> GuiOutputFormater: getFullCommandString(resultData)
		activate GuiOutputFormater
		GuiOutputFormater -> GuiOutputFormater: _buildFullDateAndTimeStrings(commandDic, ...)
			activate GuiOutputFormater
			GuiOutputFormater <- - GuiOutputFormater: return requestDateDMY, ...
			deactivate GuiOutputFormater
		Controller <- - GuiOutputFormater: return printResult, ...
		deactivate GuiOutputFormater
	GUI <- - Controller: return printResult, ...
	deactivate Controller
@enduml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_211-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: fr
Country: CH
--></g></svg>